<scripts>


<!-- Include jQuery library for AJAX requests -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).ready(function () {
        // Get the profesor.id from the generated HTML and store it in a JavaScript variable
        var profesorId = $('#profesorId').text();

        // Fetch and display Historial Acad√©mico content
        $.get('/profesores/historialAcademico/' + profesorId, function (data) {
            $('#VisualizarHistorialAcademico').html(data);
        });

        // Fetch and display Historial Arancel content
        $.get('/profesores/projector/' + profesorId, function (data) {
            $('#VisualizarProjector').html(data);
        });
    });
</script>



<script>
    // JavaScript to calculate and display the sums for each column
    var columnSums = {
        montoTotal: 0,
        tipoPago: 0,
        cuotasPactadas: 0,
        cuotasPagadas: 0,
        totalPagado: 0,
        ultimoPago: 0,
        saldoPorPagar: 0,
        cuotasRetraso: 0
    };

    var projectores = document.querySelectorAll("tbody tr");

    projectores.forEach(function (row) {
        var cells = row.querySelectorAll("td");
        columnSums.montoTotal += parseFloat(cells[1].textContent);
        columnSums.cuotasPactadas += parseFloat(cells[3].textContent);
        columnSums.cuotasPagadas += parseFloat(cells[4].textContent);
        columnSums.totalPagado += parseFloat(cells[5].textContent);
        columnSums.saldoPorPagar += parseFloat(cells[7].textContent);
        columnSums.cuotasRetraso += parseFloat(cells[8].textContent);
    });

    // Display the sums in the respective cells in the footer
    document.getElementById("sumMontoTotal").textContent = columnSums.montoTotal.toFixed(2);
    document.getElementById("sumCuotasPactadas").textContent = columnSums.cuotasPactadas.toFixed(0);
    document.getElementById("sumCuotasPagadas").textContent = columnSums.cuotasPagadas.toFixed(0);
    document.getElementById("sumTotalPagado").textContent = columnSums.totalPagado.toFixed(2);
    document.getElementById("sumSaldoPorPagar").textContent = columnSums.saldoPorPagar.toFixed(2);
    document.getElementById("sumCuotasRetraso").textContent = columnSums.cuotasRetraso.toFixed(0);
</script>




<li>
    <label><strong>Tipo Colegio</strong></label>
    <label for="tipoColegio"></label><select id="tipoColegio" name="tipoColegio" required>
        <option value="subvencionado">Subvencionado</option>
        <option value="privado">Privado</option>
        <option value="municipal">Municipal</option>
    </select>
</li>
<li>
    <label><strong>Tipo de Pago</strong></label>
    <label for="tipoPago"></label><select id="tipoPago" name="tipoPago">
        <option value="cuotas">Cuotas</option>
        <option value="al contado">Al Contado</option>
    </select>
</li>
<li>
    <label><strong>Cantidad de cuotas</strong></label>
    <label for="cuotasPactadas"></label>
    <select id="cuotasPactadas" name="cuotasPactadas">
        <!-- This will be populated dynamically based on the selection -->
    </select>



    <script>
        // Get references to the select and input elements
        const tipoPagoSelect = document.getElementById("tipoPago");
        const cuotasPactadasInput = document.getElementById("cuotasPactadas");
    
        // Add an event listener to the select element
        tipoPagoSelect.addEventListener("change", function() {
            if (tipoPagoSelect.value === "cuotas") {
                // If "cuotas" is selected, show the input field
                cuotasPactadasInput.style.display = "block";
            } else {
                // If "al contado" or other option is selected, hide the input field and set its value to 0
                cuotasPactadasInput.style.display = "none";
                cuotasPactadasInput.value = "1";
            }
        });
    
    
        // Get references to the select elements
        const tipoColegioSelect = document.getElementById("tipoColegio");
        const cuotasPactadasSelect = document.getElementById("cuotasPactadas");
    
        // Define the options for cuotas based on school type
        const optionsBySchoolType = {
            privado: ["1", "2"],
            subvencionado: ["1", "2", "3", "4", "5", "6", "7"],
            municipal: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10"],
        };
    
        // Event listener to update cuotas options when school type changes
        tipoColegioSelect.addEventListener("change", () => {
            const selectedSchoolType = tipoColegioSelect.value;
            const cuotasOptions = optionsBySchoolType[selectedSchoolType];
    
            // Clear existing options
            cuotasPactadasSelect.innerHTML = "";
    
            // Populate with new options
            cuotasOptions.forEach((cuota) => {
                const option = document.createElement("option");
                option.value = cuota;
                option.text = cuota;
                cuotasPactadasSelect.appendChild(option);
            });
        });
    
        // Trigger the event once to initialize the options based on the default selection
        tipoColegioSelect.dispatchEvent(new Event("change"));
    
    
    </script>
    
    